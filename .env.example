# =============================================================================
# Claude Code Connect-Back Gateway Configuration
# =============================================================================
# Copy this file to .env and customize as needed.
# Secrets will be auto-generated on first run if not provided.
# =============================================================================

# -----------------------------------------------------------------------------
# Gateway Server
# -----------------------------------------------------------------------------
GATEWAY_PORT=3100
GATEWAY_HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Security Secrets (REQUIRED - auto-generated if empty)
# -----------------------------------------------------------------------------
# HMAC secret for wrapper authentication (min 32 chars)
HMAC_SECRET=

# Session signing secret for UI authentication (min 32 chars)
AUTH_SECRET=

# -----------------------------------------------------------------------------
# TLS Configuration
# -----------------------------------------------------------------------------
# Enable HTTPS (recommended: true)
TLS_ENABLED=true

# Custom certificate paths (optional, defaults to .data/certs/)
# TLS_CERT=.data/certs/server.crt
# TLS_KEY=.data/certs/server.key

# -----------------------------------------------------------------------------
# Cloudflare Access (Optional - for secure remote access)
# -----------------------------------------------------------------------------
# Your Cloudflare Access team name (e.g., "mycompany")
# CF_ACCESS_TEAM=

# Your Cloudflare Access application AUD (audience tag)
# CF_ACCESS_AUD=

# -----------------------------------------------------------------------------
# Retention Policy
# -----------------------------------------------------------------------------
# Number of days to keep completed runs (default: 30)
RUN_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Wrapper Configuration
# -----------------------------------------------------------------------------
# Gateway URL for the wrapper to connect to
GATEWAY_URL=https://localhost:3100

# Allow self-signed certificates (dev only)
ALLOW_SELF_SIGNED=true

# Claude Code command (if not in PATH)
# CLAUDE_COMMAND=claude

# Command polling interval in milliseconds
# COMMAND_POLL_INTERVAL=2000

# Heartbeat interval in milliseconds
# HEARTBEAT_INTERVAL=30000

# tmate command (for assist sessions)
# TMATE_COMMAND=tmate

# -----------------------------------------------------------------------------
# Additional Allowed Commands (comma-separated)
# -----------------------------------------------------------------------------
# Add custom commands to the allowlist
# EXTRA_ALLOWED_COMMANDS=make build,make test,./my-script.sh

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: fatal, error, warn, info, debug, trace
LOG_LEVEL=info
